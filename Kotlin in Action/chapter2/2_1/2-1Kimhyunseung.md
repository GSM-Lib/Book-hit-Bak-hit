# Kotlin In Action ( chapter.2-1 ) - 김현승
## 함수
```kotlin
fun main(args: Array<String>) {
    println("Hello, world!")
}
```
위 코드에서 코틀린 함수의 여러가지 특성을 발견할 수 있습니다.
> 1. 함수를 선언할 때는 fun 키워드를 사용합니다.
> 2. 파라미터 이름 뒤에 파라미터의 타입을 씁니다. 
> 3. 꼭 클래스 안에 함수를 넣지 않아도 최상위 수준에 함수를 정의할 수 있습니다. 

그렇다면 값을 반환해야 하는 함수의 경우에는 어떻게 작성할까요?

```kotlin
fun max(a: Int, b: Int): Int {
    return if (a > b) a else b
}
```
값을 반환해야하는 함수는 위와같이 작성할 수 있습니다.
위 함수에서 알아볼 수 있는 코틀린 함수의 특징은
> 1. 괄호와 반환 타입 사이를 : (콜론)으로 구분해야합니다.

이 있습니다.
 
이 함수의 return문을 보면 if문만 써져있는데요 이러만 코드가 가능한 이유는 Kotlin에서의 if문은 결과를 만드는 식이기 때문입니다. 

#### 식이 본문인 함수 
위에서 나온 함수를 코틀린에서는 좀더 간결하게 표현할 수 있습니다. 
위와 같이 함수의 내용이 식 하나로 이루어져 있는 경우엔 
```kotlin
fun max(a: Int, b: Int): Int = if (a > b) a else b
```
위 코드처럼 중괄호를 없애고 return을 제거한 후에 등호를 식 앞에 붙여 함수를 좀더 간결하게 사용할 수 있습니다. 

위처럼 등호와 식으로 이루어진 함수를 [식이 본문인 함수] 본문이 중괄호로 둘러싸인 함수를 [블록이 본문인 함수] 라고부릅니다. 

식이 본문인 함수의 경우에는 타입추론이 가능하기 때문에 반환타입을 굳이 적지 않아도 되지만 블록이 본문인 함수가 값을 반환하기 위해서는 반드시 반환타입을 지정해 주어야 합니다. 

---

## 변수
```kotlin
val a = "문자열"
val b = 42
```
코틀린에서의 변수는 val 과 var 키워드를 사용하여 선언합니다. kotlin은 타입 추론 덕분에 타입을 굳이 명시할 필요가 없지만 원한다면 아래와 같이 타입 명시가 가능합니다.
```kotlin
val a: String = "문자열"
val b: Int = 42
```
추가로 초기화 식이 없는 경우에는 반드시 타입을 명시해야 합니다.
```kotlin
val b: Int
b = 42
```

#### 변경 가능한 변수와 변경 불가능한 변수
위에서 말했듯이 kotlin은 2가지 키워드로 변수를 선언한다. 이 두 키워드는 어떤 차이가 있을까요?

- val: 재 참조가 불가능한 변수로 일단 초기화 하면 재대입이 불가능합니다, 자바의 final 변수에 해당합니다. 
- var: 재 참조가 가능한 변수로 초기화 후에도 재대입이 가능합니다, 자바의 일반 변수에 해당합니다.

val 키워드는 참조 자체는 불변일지라도 객체 내부의 값은 변경이 가능합니다. 코드로 설명을 해보자면
```kotlin
val arr = arrayListOf("a")
arr.add("b")
```
이렇게 코드가 작성될 경우에 arr의 참조 자체는 바뀌지 않지만 arr변수의 list내부의 값을 변경이 가능합니다. 

var 키워드는 변수의 값을 변경할 수 있지만 변수의 타입은 고정되어있기 때문에 
```kotlin
var a = 42
a = "a"
```
위와 같은 코드는 컴파일이 불가능 합니다. 

만약 어떤 타입의 변수에 초기화 시와 다른 타입의 값을 대입하고 싶다면 강제 형 변환을해서 대입할 수 있습니다.

---

## 문자열 템플릿
```kotlin
fun main() {
    val name = "김현승"
    print("Hello!, $name")// Hello!, 김현승
}
```
문자열 템플릿이란 위 코드처럼 문자열 사이에 ' $ '을 사용해서 문자열의 필요한 부분에 변수를 넣을 수 있도록 해주는 기능입니다. 이 기능은 자바의 문자열 접합 연산
```kotlin
("Hello!, " + name)
```
과 동일한 기능을 수행합니다. 
```kotlin
fun sayHi(num: Int) {
    print("hi!, ${if (num == 1) "김현승" else "이현빈"}")
}
```
간단한 변수 말고 복잡한 식을 문자열에 넣고싶은 경우에도 중괄호로 식을 감싸서 문자열 템플릿 안에 넣으면 됩니다.